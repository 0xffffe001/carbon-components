//-----------------------------
// Modals
//-----------------------------

// Dependencies
@import '../../global/global';
@import '../../base-elements/buttons/buttons';
@import '../../base-elements/checkbox/checkbox';
@import '../../base-elements/file-uploader/file-uploader';
@import '../../base-elements/radio/radio';
@import '../../base-elements/search/search';
@import '../../base-elements/select/select';
@import '../../base-elements/text/text';
@import '../../base-elements/textarea/textarea';

// Local
@import 'vars';

.bx--modal {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: z('hidden');
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0;
  background: $color__modal-bg;
  content: '';
  opacity: 0;
  transition: opacity .2s, z-index 0 .2s, visibility 0 .2s;
  visibility: hidden;

  &.is-visible {
    z-index: z('modal');
    opacity: 1;
    transition: opacity .2s;
    visibility: visible;
  }
}

.bx--modal__buttons {
  display: flex;
  align-items: flex-end;
  justify-content: flex-end;
  padding: rem(24px) 3rem rem(24px) 3rem;
  margin: rem(48px) -3rem -3.125rem -3rem;
  background: $color__modal-footer;

  .bx--btn--secondary {
    @include btn--secondary($color__navy-gray-6);
    color: $color__navy-gray-6;
    margin-right: 1rem;

    &:hover {
      color: $color__white;
    }
  }
}

.bx--modal-content {

  &__heading {
    @include font-size('20');
    font-weight: 200;
    color: $color__navy-gray-5;
    padding-bottom: .925rem;

    @include breakpoint(640px) {
      @include font-size('26');
    }
  }

  &__text {
    @include line-height('body');
    color: $color__modal-text;
  }

  &__label {
    @include font-size('12');
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 700;
    padding-bottom: rem(8px);
  }
}

.bx--modal-inner {
  @include font-size('16');
  position: relative;
  z-index: z('modal');
  width: 100%;
  height: 100%;
  max-height: 100%;
  padding: 2.75rem 1rem 1rem;
  background: $color__modal-bg--inner;
  border-top: 6px solid $color__blue-40;
  opacity: 1;
  transition: .2s;
  color: $color__modal-text;

  @include breakpoint(640px) {
    width: 50%;
    height: auto;
    max-height: 90%;
    padding: 2.75rem 3rem 3rem 3rem;
  }

  .bx--select,
  .bx--text,
  .bx--textarea,
  .bx--file,
  .bx--search {
    &__input, &__label {
      color: $color__navy-gray-6;
      background-color: $color__modal-input-light;

      &::placeholder {
        color: $color__navy-gray-7;
      }
    }
  }

  .bx--radio, .bx--checkbox {
    &__appearance {
      background-color: $color__white;
      border-color: $color__navy-gray-6;
    }
  }

  .bx--radio:checked + .bx--radio__label .bx--radio__appearance {
    border-color: $color__blue-40;
  }

  .bx--checkbox:checked + .bx--checkbox__label .bx--checkbox__appearance {
    border-color: $color__blue-40;
    background-color: $color__blue-40;

    &:before {
      border-color: $color__white;
    }
  }

  .bx--search__filter {
    color: $color__navy-gray-5;
    background-color: mix($color__white, $color__navy-gray-7, 30%);

    &:hover,
    &:focus {
      background-color: mix($color__white, $color__navy-gray-7, 40%);
    }

    .bx--search__icon--filter {
      fill: $color__navy-gray-5;
    }
  }
}

.bx--modal__close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 2.25rem;
  height: 2.25rem;
  padding: 0;
  overflow: hidden;
  cursor: pointer;
  background-color: transparent;
  border: none;

  &--icon {
    transition: .2s;
    fill: $color__navy-gray-7;
    width: 1rem;
    height: 1rem;
  }
}

.bx--modal__header {
  padding: 3.125rem 3.125rem 0 3.125rem;
  margin: -3.125rem -3.125rem .25rem -3.125rem;
}
